---
title: "Version"
author: "Charles T T Edwards (Wellington, New Zealand)"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    toc: no
vignette: >
  %\VignetteIndexEntry{version}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

```{r, echo = FALSE}
# Get Version and date
VERSION <- scan('../DESCRIPTION',what = character(),skip = 3,nlines = 1)[2]
DATE    <- Sys.Date()

# Write .onAttach
filename <- "../R/zzz.R"
cat(".onAttach <- function(libname, pkgname)\n", file = filename)
cat("{\n", file = filename, append = TRUE)
cat(paste("    packageStartupMessage(\"sra version ", VERSION, " (", DATE, ")\")\n", sep = ""), file = filename, append = TRUE)
cat("}\n", file = filename, append = TRUE)
rm(filename)
```

This is `sra` package version `r VERSION`.

```{r, echo = FALSE}
# document package
roxygen2::roxygenise("..")
```
